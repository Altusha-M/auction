<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org">

<head th:replace="base::head(title='Add new lot')"></head>

<body>
	<th:block th:replace="base::navbar" />
	
	<div class="container-fluid">
		<div class="form-row">
			<div class="col-md-2">
				<p class="text-right">L</p>
			</div>
			<div class="col-md">
				<form method="POST" th:action="@{/add/lot}" th:object="${newLot}" enctype="multipart/form-data">
					<div class="form-group mb-4">
	  					<label for="lotName">Lot name</label>
	    				<input id="lotName" th:field="*{name}" type="text" class="form-control" placeholder="Input lot name here">
						<span class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</span>
	  				</div>
					<div class="form-group mb-4">
				    	<label for="lotDescription">Lot Description</label>
				    	<textarea id="lotDescription" th:field="*{description}" class="form-control" rows="3"></textarea>
						<span class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Name Error</span>
					</div>
					<div class="form-row mb-4">
						<div class="col-4">
							<label for="lotCondition">Condition</label>
							<select id="lotCondition" th:field="*{conditionId}" class="form-control">
								<option th:each="condition : ${conditions}"
										th:selected="${condition.id == 1}"
										th:value="${condition.id}"
										th:text="${condition.name}">Condition name
								</option>
							</select>
						</div>
						<div class="col-8">
							<label for="lotCategory">Select lot category</label>
							<select id="lotCategory" th:field="*{categoryId}" class="form-control">
								<option th:each="category : ${categories}"
										th:selected="${category.id == 1}"
										th:value="${category.id}"
										th:text="${category.name}">Category name
								</option>
							</select>
						</div>
					</div>

					<div class="input-group mb-4">
						<input type="file" name="lotImages" multiple>
					</div>

					<div class="form-row mb-4">
						<div class="col-4 input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">$</span>
							</div>
							<input id="currentPrice" th:field="*{currentPrice}" type="number" placeholder="Current price" class="form-control">
						</div>
						<div class="col-4 input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">$</span>
							</div>
							<input id="maxPrice" th:field="*{maxPrice}" type="number" placeholder="Max price" class="form-control">
						</div>
						<div class="col-4 input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">$</span>
							</div>
							<input id="minPrice" th:field="*{minPrice}" type="number" placeholder="Min price" class="form-control">
						</div>
						<div class="w-100"></div>
						<div class="col-4 text-danger" th:if="${#fields.hasErrors('currentPrice')}" th:errors="*{currentPrice}">Name Error</div>
<!--						<div class="col-4 text-success" th:if="${!#fields.hasErrors('currentPrice')}">Ок</div>-->
						<div class="col-4 text-danger" th:if="${#fields.hasErrors('maxPrice')}" th:errors="*{maxPrice}">Name Error</div>
<!--						<div class="col-4 text-success" th:if="${!#fields.hasErrors('maxPrice')}">Ок</div>-->
						<div class="col-4 text-danger" th:if="${#fields.hasErrors('minPrice')}" th:errors="*{minPrice}">Name Error</div>
<!--						<div class="col-4 text-success" th:if="${!#fields.hasErrors('minPrice')}">Ок</div>-->
					</div>
					<div class="form-row mb-5">
						<div class="col-4">
							<label for="lotCity">Select city</label>
							<select id="lotCity" th:field="*{city}" class="form-control">
								<option th:each="city : ${cities}"
										th:selected="${city.id == 1}"
										th:value="${city.id}"
										th:text="${city.name}">City name
								</option>
							</select>
						</div>
						<div class="col-8">
							<button id="addLotBtnSubmit" class="btn btn-success btn-block h-100" type="submit">Submit</button> 
						</div>
					</div>
				</form>
			</div>
		  	<div class="col-md-2">
				<p class="text-left">R</p>
			</div>
		</div>
	</div>
	<th:block th:insert="base::scripts" />
</body>
</html>